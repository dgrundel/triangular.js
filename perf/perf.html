<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Perf</title>
	
	<link rel="stylesheet" href="perf.css">
</head>
<body>
	<div id="container">
		<h1>perf.js Tests</h1>

		<ol id="testLog"></ol>

		<div id="testDom">
			<script type="text/template" id="testTemplateNode">test</script>
			<div id="testNode" data-test-attribute="test"></div>
		</div>
	</div>

	
	<script src="perf.js"></script>
	<script>
		perf.log('So, for some reason, I couldn\'t get to JSPerf today. This is the result.');

		perf.compare(
			'Testing methods to grab a template string from the DOM.',

			new perf('Template acquisition with attribute')
				.setup(function(namespace){
					namespace.attributeNode = document.getElementById('testNode');
				})
				.test(function(namespace){
					var templateString = namespace.attributeNode.getAttribute('data-test-attribute');
				}),

			new perf('Template acquisition with getElementById and attribute')
				.test(function(namespace){
					var templateString = document.getElementById('testNode').getAttribute('data-test-attribute');
				}),

			new perf('Template acquisition with getElementById and innerHTML')
				.test(function(){
					var templateString = document.getElementById('testTemplateNode').innerHTML;
				})
		);

		perf.log('...and this is why we cache the template string in a data attribute. ' +
			'binding modifiers already have the node available, so we have the best case scenario.');
	</script>
</body>
</html>